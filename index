<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Content Wizard â€” CT Brand</title>
<style>
  :root{
    --ct-navy:#001f49;
    --ct-ivory:#f9f6ee;
    --ct-grey:#373737;
    --ct-yellow:#ffd000;
  }

  body{font-family:Futura, Arial, sans-serif;margin:0;color:var(--ct-grey);background:var(--ct-navy);height:100vh;overflow:hidden}
  .wrap{display:grid;grid-template-columns:1fr 420px;height:100vh}
  @media (max-width:980px){.wrap{grid-template-columns:1fr}}

  .panel{padding:28px 24px;background:var(--ct-ivory);color:var(--ct-grey);border-left:4px solid var(--ct-yellow);box-shadow:-4px 0 16px rgba(0,0,0,.15);overflow-y:auto}
  .panel .h1-wrapper{display:flex;flex-direction:column;align-items:flex-start;gap:4px;margin-bottom:20px}
  .panel h1{font-size:20px;margin:0;font-weight:800;letter-spacing:.02em;color:var(--ct-navy);text-transform:uppercase;display:flex;align-items:center;gap:8px}
  .panel .underline{display:block;width:48px;height:3px;background:var(--ct-yellow);border-radius:2px}
  .wand-icon{font-size:20px;color:var(--ct-yellow)}

  .field{margin:20px 0 16px}
  .field label{display:block;font-size:12px;margin-bottom:6px;color:var(--ct-grey);letter-spacing:.06em;text-transform:uppercase;font-weight:700}
  .row{display:flex;gap:10px;align-items:center}

  input[type=text],input[type=url],select{width:100%;padding:12px;border-radius:10px;border:1px solid #e6e6e6;background:#fff;color:#111;font-family:Futura, Arial, sans-serif;text-transform:uppercase;outline:none;transition:border-color .2s ease,box-shadow .2s ease}
  input[type=text]::placeholder,input[type=url]::placeholder{color:#9b9b9b}
  select{appearance:none;background-image:linear-gradient(45deg,transparent 50%, var(--ct-navy) 50%),linear-gradient(135deg,var(--ct-navy) 50%,transparent 50%);background-position:calc(100% - 18px) calc(1em - 2px),calc(100% - 12px) calc(1em - 2px);background-size:6px 6px,6px 6px;background-repeat:no-repeat}
  input[type=text]:focus,input[type=url]:focus,select:focus{border-color:var(--ct-yellow);box-shadow:0 0 0 3px rgba(255,208,0,.25)}

  .btn{padding:12px 16px;border:none;border-radius:12px;background:var(--ct-navy);color:#fff;font-weight:800;cursor:pointer;font-family:Futura, Arial, sans-serif;letter-spacing:.04em;box-shadow:0 4px 12px rgba(0,0,0,.2);transition:transform .08s ease,filter .18s ease,box-shadow .18s ease;text-transform:uppercase}
  .btn:hover{filter:brightness(1.05)}
  .btn:active{transform:translateY(1px)}
  .btn[disabled]{opacity:.6;cursor:not-allowed;filter:grayscale(.3)}

  /* Mac-style window */
  .window{height:100%;margin:12px;border-radius:14px;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 18px 40px rgba(0,0,0,.35);background:#1e1e1e;position:relative}
  .window-header{display:flex;align-items:center;gap:8px;height:34px;padding:0 14px;background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(0,0,0,.06));border-bottom:1px solid rgba(255,255,255,.18)}
  .win-dot{width:12px;height:12px;border-radius:50%;box-shadow:inset 0 0 0 1px rgba(0,0,0,.25)}
  .win-dot.red{background:#ff5f57}
  .win-dot.yellow{background:#febc2e}
  .win-dot.green{background:#28c840}
  .window-body{position:relative;flex:1;background:var(--ct-navy)}

  .watermark{position:absolute;top:8px;right:12px;font-size:13px;font-weight:700;color:rgba(255,255,255,.8);letter-spacing:.06em;pointer-events:none;user-select:none;text-transform:uppercase;background:rgba(0,0,0,.4);padding:2px 6px;border-radius:4px}

  .stage{position:absolute;inset:0;overflow:hidden;background:var(--ct-navy)}
  .bg-media{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(.9) saturate(1.05)}
  .stage::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.2),rgba(0,0,0,.55))}

  .promo-block{position:absolute;display:flex;flex-direction:column;padding:20px 24px;border-radius:18px;color:#fff;text-shadow:0 2px 16px rgba(0,0,0,.35);font-family:Futura, Arial, sans-serif;width:max-content;max-width:90vw;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.25));backdrop-filter:saturate(1.03);--ox:0px;--oy:0px}
  .promo-block p{margin:0;line-height:1.05;text-transform:uppercase;word-break:break-word;overflow-wrap:anywhere;hyphens:auto;text-wrap:balance}
  .promo-limited{font-size:3.2rem;color:#fff;font-weight:500;margin-left:4px!important;text-transform:none!important}
  .promo-campaign-callout{font-size:8rem;color:#fff;font-weight:600}
  .promo-main-callout{font-size:6rem;color:var(--ct-yellow);font-weight:600}
  .promo-savings,.promo-secondary{font-size:3.2rem;color:#fff;font-weight:500}
  .promo-code{font-size:3.2rem;font-weight:700;text-transform:uppercase!important;margin-top:10px!important}
  .promo-code .prefix{color:#fff}
  .promo-code .value{color:var(--ct-yellow)}
  .cta-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:14px}
  .cta{width:220px;display:flex;border-radius:10px;padding:12px 16px;font-weight:400;cursor:pointer;text-decoration:none;font-family:Futura, Arial, sans-serif;text-transform:uppercase;justify-content:center;background:#e8e8e8;color:var(--ct-grey);box-shadow:0 6px 14px rgba(0,0,0,.2);transition:background .2s ease,transform .08s ease}
  .cta:hover{background:#f0f0f0}
  .cta:active{transform:translateY(1px)}

  /* Mobile hide helper (preview) */
  .cta.hide-mobile{display:flex}
  @media (max-width:480px){.cta.hide-mobile{display:none!important}}

  /* Position helpers (with nudge vars) */
  .pos-top-left{top:24px;left:24px;transform:translate(var(--ox),var(--oy))}
  .pos-top,.pos-top-center{top:24px;left:50%;transform:translate(calc(-50% + var(--ox)),var(--oy))}
  .pos-top-right{top:24px;right:24px;transform:translate(var(--ox),var(--oy))}
  .pos-middle-left{top:50%;left:24px;transform:translate(var(--ox),calc(-50% + var(--oy)))}
  .pos-center{top:50%;left:50%;transform:translate(calc(-50% + var(--ox)),calc(-50% + var(--oy)))}
  .pos-middle-right{top:50%;right:24px;transform:translate(var(--ox),calc(-50% + var(--oy)))}
  .pos-bottom-left{bottom:24px;left:24px;transform:translate(var(--ox),var(--oy))}
  .pos-middle-bottom,.pos-bottom-center{left:50%;bottom:24px;transform:translate(calc(-50% + var(--ox)),var(--oy))}
  .pos-bottom-right{bottom:24px;right:24px;transform:translate(var(--ox),var(--oy))}

  #copyNotice{display:none;color:var(--ct-navy);margin-top:12px;font-size:14px;font-weight:700}
  .toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:var(--ct-navy);color:#fff;padding:10px 14px;border-radius:10px;border:2px solid rgba(255,208,0,.35);font-weight:700;opacity:0;pointer-events:none;transition:opacity .2s ease,transform .2s ease}
  .toast.show{opacity:1;transform:translateX(-50%) scale(1.02)}
  @media (prefers-reduced-motion:reduce){.toast{transition:none}}
  
  /* ----- Copy overlay fallback ----- */
  .copy-overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.65);z-index:9999}
  .copy-card{width:min(920px,92vw);max-height:86vh;background:#fff;border-radius:12px;box-shadow:0 20px 60px rgba(0,0,0,.5);display:flex;flex-direction:column;overflow:hidden}
  .copy-card header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #e9e9e9;color:var(--ct-navy);font-weight:800;letter-spacing:.02em;text-transform:uppercase}
  .copy-card .copy-actions{display:flex;gap:10px;justify-content:flex-end;padding:10px 14px;border-top:1px solid #e9e9e9;background:#fafafa}
  .copy-card button{padding:10px 14px;border:none;border-radius:10px;background:var(--ct-navy);color:#fff;font-weight:700;cursor:pointer}
  .copy-card button.secondary{background:#e8e8e8;color:var(--ct-grey)}
  #copyArea{flex:1;border:none;outline:none;padding:14px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;font-size:12px;line-height:1.4;white-space:pre;resize:none}
</style>
</head>
<body>
<div class="wrap">
  <main>
    <div class="window" aria-label="Preview window">
      <div class="window-header" aria-hidden="true">
        <span class="win-dot red"></span>
        <span class="win-dot yellow"></span>
        <span class="win-dot green"></span>
      </div>
      <div class="window-body">
        <span class="watermark">Prototype 0.1</span>
        <section class="stage" aria-label="Live preview">
          <img class="bg-media" src="https://images.unsplash.com/photo-1517705008128-361805f42e86?q=80&w=1600&auto=format&fit=crop" alt="Background" />
          <div id="previewBlock" class="promo-block pos-bottom-left" role="region" aria-label="Promo block preview" tabindex="0">
            <p class="promo-limited">Limited Time Only</p>
            <p class="promo-campaign-callout"></p>
            <p class="promo-main-callout">5 SHIRTS FOR Â£165</p>
            <p class="promo-savings">Save up to Â£200</p>
            <p class="promo-secondary"></p>
            <p class="promo-code"><span class="prefix">USE CODE: </span><span class="value">PROPER</span></p>
            <div class="cta-row">
              <a class="cta" href="#" rel="noopener">Shop Shirts</a>
              <a class="cta" href="#" rel="noopener">Shop Polos</a>
            </div>
          </div>
        </section>
      </div>
    </div>
    <div class="toast" id="toast" role="status" aria-live="polite"></div>
  </main>
  <aside class="panel" aria-label="Controls">
    <div class="h1-wrapper">
      <h1>Content Wizard <span class="wand-icon">ðŸª„</span></h1>
      <span class="underline"></span>
    </div>

    <div class="field"><label for="limitedText">Limited message</label><input type="text" id="limitedText" placeholder="Limited Time Only / Ends Tonight" autocomplete="off"></div>
    <div class="field"><label for="campaignCallout">Campaign callout</label><input type="text" id="campaignCallout" placeholder="Campaign callout" autocomplete="off"></div>
    <div class="field"><label for="mainCallout">Main promo callout</label><input type="text" id="mainCallout" placeholder="Main promo callout" autocomplete="off"></div>
    <div class="field"><label for="savings">Savings message</label><input type="text" id="savings" placeholder="Save up to ..."></div>
    <div class="field"><label for="secondary">Secondary promo callout</label><input type="text" id="secondary" placeholder="Secondary promo callout"></div>
    <div class="field"><label for="code">Promo code</label><input type="text" id="code" placeholder="CODE123"></div>

    <div class="field"><label>CTA 1</label>
      <div class="row">
        <input type="text" id="cta1Text" placeholder="CTA text">
        <input type="url" id="cta1Href" placeholder="URL">
      </div>
      <div class="row"><label><input type="checkbox" id="cta1HideMobile"> Hide on mobile?</label></div>
    </div>
    <div class="field"><label>CTA 2</label>
      <div class="row">
        <input type="text" id="cta2Text" placeholder="CTA text">
        <input type="url" id="cta2Href" placeholder="URL">
      </div>
      <div class="row"><label><input type="checkbox" id="cta2HideMobile"> Hide on mobile?</label></div>
    </div>

    <div class="field"><label for="position">Block position</label>
      <select id="position">
        <option value="pos-bottom-left">bottom left</option>
        <option value="pos-bottom-center">bottom center</option>
        <option value="pos-bottom-right">bottom right</option>
        <option value="pos-middle-left">middle left</option>
        <option value="pos-center">center</option>
        <option value="pos-middle-right">middle right</option>
        <option value="pos-top-left">top left</option>
        <option value="pos-top-center">top center</option>
        <option value="pos-top-right">top right</option>
        <option value="pos-middle-bottom">middle bottom (alias)</option>
      </select>
    </div>

    <div class="field">
      <label><input type="checkbox" id="keepInView"> Keep in view on load</label>
      <div style="font-size:11px;opacity:.75;margin-top:4px">Nudges the promo into the visible area on load & resize.</div>
    </div>

    <div class="row" style="justify-content:flex-start;align-items:center;gap:10px">
      <button class="btn" id="gen">Copy to Clipboard</button>
      <button class="btn" id="download">Download .html</button>
    </div>
    <div id="copyNotice">âœ… Code copied to clipboard</div>
  </aside>
</div>
<script>
/************************
 * Element cache
 *************************/ 
const els={
  limitedText:document.getElementById('limitedText'),
  campaignCallout:document.getElementById('campaignCallout'),
  mainCallout:document.getElementById('mainCallout'),
  savings:document.getElementById('savings'),
  code:document.getElementById('code'),
  secondary:document.getElementById('secondary'),
  cta1Text:document.getElementById('cta
